cmake_minimum_required( VERSION 3.15 )
project( mytest LANGUAGES CXX )
set( CMAKE_VERBOSE_MAKEFILE ON )
set( CMAKE_CXX_STANDARD 20 )
if( ${CMAKE_SYSTEM_NAME} MATCHES "Emscripten" )
  set( USE_FLAGS "-s USE_SDL=2 -s ALLOW_MEMORY_GROWTH=1 " )
  set( CMAKE_CXX_FLAGS ${CMAKE_CXX_FLAGS} ${USE_FLAGS} )
  set( CMAKE_EXE_LINKER_FLAGS ${CMAKE_EXE_LINKER_FLAGS} ${USE_FLAGS} )
  set( CMAKE_EXECUTABLE_SUFFIX .html )
else()
include( FindPkgConfig )
find_package( SDL2 REQUIRED sdl2 )
endif()
include_directories( ${SDL2_INCLUDE_DIRS}  )
set( SRCS vis_00_base.cpp
vis_01_demangle.cpp )
add_executable( mytest ${SRCS} )
target_link_libraries( mytest ${SDL2_LIBRARIES} )
